<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<body>
<div id="postModal" class="modal fade" tabindex="-1" role="dialog" th:fragment="post_modal" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <div class="container-fluid justify-content-center">
                    <div class="row">
                        <div class="col-12 ml-auto mr-auto">
                            <div class="row justify-content-between">
                                <div class="col-4">
                                    <h4>Create New Post</h4>
                                </div>
                                <div class="col-2 align-self-start">
                                    <button type="button" class="close align-top"
                                            onclick="closeModal('postModal');" data-dismiss="modal"
                                            aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-12">
                            <!--<form th:action="@{/posts/new}" method="post"-->
                            <!--enctype="multipart/form-data">-->
                            <div class="form-group">
                                <label for="content">Text:</label>
                                <textarea id="content" name="text" placeholder="Enter Text here"
                                          cols="40" rows="5"
                                          class="form-control"></textarea>
                                <!--<small>-->
                                <!--<div class="text-danger" th:if="${#fields.hasErrors('content')}"-->
                                <!--th:errors="*{content}">..-->
                                <!--</div>-->
                                <!--</small>-->
                            </div>

                            <div class="form-group">
                                <!--<div class="col-12">-->
                                <label for="map">Location:</label>
                                <div id="map"></div>
                                <!--</div>-->
                                <input type="hidden" id="latitude"/>
                                <input type="hidden" id="longitude"/>
                            </div>

                            <div class="row">
                                <label class="col-6 col-form-label">
                                    Select Post Type:
                                </label>
                            </div>

                            <div class="row form-group">
                                <div class="col-6">
                                    <select class="form-control" id="postType">
                                        <option value="TEXT">Standard post</option>
                                        <option value="OFFER">Agent Offer</option>
                                        <option value="DEMAND">Agent Demand</option>
                                    </select>
                                </div>
                            </div>

                            <div class="row">
                                <label class="col-6 col-form-label">
                                    Upload Photo:
                                    <!--<span class="text-danger">-->
                                            <!--<small id="imageError" style="display:none"></small>-->
                                        <!--</span>-->
                                </label>
                                <label class="col-6 col-form-label">
                                    Upload Video:
                                    <!--<span class="text-danger">-->
                                            <!--<small id="videoError" style="display:none"></small>-->
                                        <!--</span>-->
                                </label>
                            </div>

                            <div id="create-post-message-area" class="row">
                                <div class="col-6">
                                    <div id="photos">

                                        <label class="newbtn d-flex" id="imgBtn">
                                            <i class="fas fa-plus fa-3x mx-auto my-auto" id="imgIcon"></i>
                                            <input id="pic" accept="image/*" onchange="readURL(this);"
                                                   type="file">
                                            <img class="img-thumbnail img-fit" id="imgImg" style="display: none">
                                        </label>
                                    </div>
                                </div>
                                <div class="col-6 video-container">
                                    <div id="videos">
                                        <label class="newbtn d-flex" id="btnVid">
                                            <i class="fas fa-plus fa-3x mx-auto my-auto" id="iconVid"></i>
                                            <div class="video">
                                                <video style="display:none" controls>
                                                    <source src="" id="video_here">
                                                    Your browser does not support HTML5 video.
                                                </video>
                                            </div>

                                            <input id="vid" type="file" name="file[]" class="file_multi_video"
                                                   accept="video/*">
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-md-12">
                                    <button id="publishBtn" type="button" class="btn btn-primary" onclick="createNewPost();">Submit
                                    </button>
                                    <!--<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>-->
                                    <button id="cancelBtn" type="button" class="btn btn-primary" onclick="hideAndResetModalOnClose('#postModal', true);">Cancel</button>
                                </div>
                            </div>
                            <!--</form>-->
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</div>
</body>
</html>
